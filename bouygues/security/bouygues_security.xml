<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- stock.warehouse.orderpoint -->
        <record id="bouygues_stock_warehouse_orderpoint_trade_extended_rules" model="ir.rule">
            <field name="name">Trade++ should only create and edit HS and FC reordering rules</field>
            <field name="domain_force">
                ['&amp;',
                    ('product_id', '!=', False),
                    ('product_id.hs_or_fc', '=', True),
                ]
            </field>
            <field name="model_id" ref="stock.model_stock_warehouse_orderpoint"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_trade_extended_sales_group'),
            ])]"/>
        </record>
        <record id="bouygues_stock_warehouse_orderpoint_other_rules" model="ir.rule">
            <field name="name">Supplier and Manager could create reordering rules without any restriction</field>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="model_id" ref="stock.model_stock_warehouse_orderpoint"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_supplier_sales_group'),
                ref('bouygues.bouygues_manager_sales_group'),
                ref('stock.group_stock_manager'),
            ])]"/>
        </record>
        <!-- product.supplierinfo -->
        <record id="bouygues_product_supplierinfo_supplier_extended_rules" model="ir.rule">
            <field name="name">Supplier++ should only edit HS and FC vendor pricelists</field>
            <field name="domain_force">
                ['&amp;',
                    ('product_tmpl_id', '!=', False),
                    ('product_tmpl_id.hs_or_fc', '=', True),
                ]
            </field>
            <field name="model_id" ref="product.model_product_supplierinfo"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_supplier_extended_sales_group'),
                ref('bouygues.bouygues_trade_extended_sales_group'),
            ])]"/>
        </record>
        <record id="bouygues_product_supplierinfo_other_rules" model="ir.rule">
            <field name="name">Manager could create vendor pricelist without any restriction</field>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="model_id" ref="product.model_product_supplierinfo"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_manager_sales_group'),
                ref('mrp.group_mrp_manager'),
                ref('base.group_system'),
            ])]"/>
        </record>
        <!-- product.product -->
        <record id="bouygues_product_product_trade_rules" model="ir.rule">
            <field name="name">Trade++ should only create and edit HS and FC products</field>
            <field name="domain_force">[('hs_or_fc', '=', True)]</field>
            <field name="model_id" ref="product.model_product_product"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_trade_extended_sales_group'),
            ])]"/>
        </record>
        <record id="bouygues_product_product_other_rules" model="ir.rule">
            <field name="name">Manager could create products without any restriction</field>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="model_id" ref="product.model_product_product"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_manager_sales_group'),
                ref('base.group_system'),
            ])]"/>
        </record>
        <!-- product.template -->
        <record id="bouygues_product_template_trade_rules" model="ir.rule">
            <field name="name">Trade++ should only create and edit HS and FC product templates</field>
            <field name="domain_force">[('hs_or_fc', '=', True)]</field>
            <field name="model_id" ref="product.model_product_template"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_trade_extended_sales_group'),
            ])]"/>
        </record>
        <record id="bouygues_product_template_other_rules" model="ir.rule">
            <field name="name">Manager could create product templates without any restriction</field>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="model_id" ref="product.model_product_template"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_manager_sales_group'),
                ref('base.group_system'),
            ])]"/>
        </record>
        <!-- res.partner -->
        <record id="bouygues_res_partner_supplier_create_rules" model="ir.rule">
            <field name="name">Supplier and Supplier++ should only be able to edit and create contact for a company</field>
            <field name="domain_force">
                ['&amp;',
                    '&amp;',
                        ('is_company', '=', False),
                        ('parent_id', '!=', False),
                    ('type', 'in', ['contact']),
                ]
            </field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_supplier_sales_group'),
            ])]"/>
        </record>
        <record id="bouygues_res_partner_sales_create_rules" model="ir.rule">
            <field name="name">Sales++ should only be able to edit and create contact that is not a company</field>
            <field name="domain_force">
                [
                    ('is_company', '=', False),
                ]
            </field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_trade_extended_sales_group'),
            ])]"/>
        </record>
        <record id="bouygues_res_partner_logistic_rules" model="ir.rule">
            <field name="name">Logistic and Logistic++ should only be able to create persons</field>
            <field name="domain_force">
                [
                    ('is_company', '=', False),
                ]
            </field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_logistic_sales_group'),
            ])]"/>
        </record>
        <record id="bouygues_res_partner_manager_rules" model="ir.rule">
            <field name="name">Manager should only be able to create contact that is not a company</field>
            <field name="domain_force">
                [
                    ('is_company', '=', False),
                ]
            </field>
            <field name="model_id" ref="base.model_res_partner"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="0"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_manager_sales_group'),
            ])]"/>
        </record>
        <!-- stock.picking -->
        <record id="bouygues_stock_picking_trade_rules" model="ir.rule">
            <field name="name">Trade/++ should only be able to create and edit DS and IN Stock Picking</field>
            <field name="domain_force">
                ['&amp;',
                    ('picking_type_id', '!=', False),
                    ('picking_type_id.sequence_code', 'in', ['DS', 'IN']),
                ]
            </field>
            <field name="model_id" ref="stock.model_stock_picking"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_trade_sales_group'),
            ])]"/>
        </record>
        <record id="bouygues_stock_picking_other_rules" model="ir.rule">
            <field name="name">Other groups should be able to create and edit any type of Stock Picking</field>
            <field name="domain_force">
                [(1, '=', 1)]
            </field>
            <field name="model_id" ref="stock.model_stock_picking"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="1"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[(6, 0, [
                ref('bouygues.bouygues_logistic_sales_group'),
                ref('bouygues.bouygues_supplier_sales_group'),
                ref('bouygues.bouygues_manager_sales_group'),
            ])]"/>
        </record>
        <!-- hr.employee.public -->
        <record id="bouygues_hr_employee_public_rules" model="ir.rule">
            <field name="name">Normal user should only be able to edit own employee</field>
            <field name="domain_force">
                [
                    ('user_id', '=', user.id),
                ]
            </field>
            <field name="model_id" ref="hr.model_hr_employee_public"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[
                (4, ref('base.group_user')),
            ]"/>
        </record>
        <record id="bouygues_hr_employee_public_rules_admin" model="ir.rule">
            <field name="name">Admin can edit all employees</field>
            <field name="domain_force">
                [(1, '=', 1)]
            </field>
            <field name="model_id" ref="hr.model_hr_employee_public"/>
            <field name="perm_read" eval="0"/>
            <field name="perm_write" eval="1"/>
            <field name="perm_create" eval="0"/>
            <field name="perm_unlink" eval="0"/>
            <field name="global" eval="False"/>
            <field name="groups" eval="[
                (4, ref('hr.group_hr_user')),
            ]"/>
        </record>
    </data>
</odoo>
